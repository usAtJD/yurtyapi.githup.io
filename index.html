from jinja2 import Template
import os

# Şirket bilgileri
company_info = {
    "name": "YURT YAPI ALEMİNYUM SİSTEMLERİ",
    "phone": "+905353133790",
    "email": "info@yurtyapialeminyum.com",
    "founder": "İSMAİL YEŞİLYURT",
    "website": "https://yurtyapialuminyum.com/",
    "address": "İnönü mahallesi 361 sk no 48 BAĞCILAR / İSTANBUL"
}

# vCard içeriği
vcard = (
    "BEGIN:VCARD\nVERSION:3.0\n"
    f"N:{company_info['name']}\n"
    f"TEL:{company_info['phone']}\n"
    f"EMAIL:{company_info['email']}\n"
    f"URL:{company_info['website']}\n"
    f"ADR:{company_info['address']}\n"
    f"NOTE:Kurucu: {company_info['founder']}\n"
    "END:VCARD"
)
vcard_encoded = "data:text/vcard;charset=utf-8," + vcard.replace("\n", "%0D%0A")

# Mobil uyumlu statik HTML şablon
STATIC_HTML = '''
<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>{{ company.name }}</title>
    <style>
        * {box-sizing: border-box;}
        body {font-family: Arial, sans-serif; margin: 0; padding: 0; background: #f0f2f5;}
        .header {background: #3498db; color: white; padding: 15px; text-align: center;}
        .card {background: white; margin: 15px; border-radius: 8px; padding: 15px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);}
        .info-item {margin-bottom: 10px;}
        .vcard-btn {display: block; text-align: center; background: #2ecc71; color: white; padding: 10px; border-radius: 5px; text-decoration: none; margin-top: 15px;}
        .no-files {text-align: center; color: #777; padding: 15px;}
    </style>
</head>
<body>
    <div class="header">
        <h2>{{ company.name }}</h2>
    </div>
    
    <div class="card">
        <h3>İletişim Bilgileri</h3>
        <div class="info-item"><strong>Tel:</strong> <a href="tel:{{ company.phone }}">{{ company.phone }}</a></div>
        <div class="info-item"><strong>E-posta:</strong> <a href="mailto:{{ company.email }}">{{ company.email }}</a></div>
        <div class="info-item"><strong>Adres:</strong> {{ company.address }}</div>
        
        <a href="{{ vcard_link }}" download="yurt_yapi.vcf" class="vcard-btn">
            Rehbere Kaydet
        </a>
    </div>
    
    <div class="card">
        <h3>Dosya Yöneticisi</h3>
        <div class="no-files">Dosya yükleme özelliği statik sitede desteklenmez. Lütfen yerel bir uygulamayı kullanın.</div>
    </div>
</body>
</html>
'''

# HTML dosyasını oluştur
def generate_static_html():
    template = Template(STATIC_HTML)
    html_content = template.render(company=company_info, vcard_link=vcard_encoded)
    with open("index.html", "w", encoding="utf-8") as f:
        f.write(html_content)

if __name__ == "__main__":
    generate_static_html()
    print("index.html dosyası başarıyla oluşturuldu. GitHub repository'nize yükleyin!")
